<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	data-layout-decorate="~{layout/defaultLayout}">
<th:block layout:fragment="script">
	<title>SIGN-UP AMPM</title>
	<style type="text/css">
	.test {
		margin-top: 100px;
		margin-left: auto;
		margin-right: auto;
		text-align: center;
	}
	</style>
	<script type="text/javascript">
	//계좌 체크여부 확인 (유효하지 않을때 = 0 , 유효할 때 = 1 )
	var accountCheck = 0;
	/* 
	 */
	$(function() {
	    //accountCheck 버튼을 클릭했을 때 

	    $("#accountCheck").click(function() {
			var sellerId = $("#sellerId").val(); 
	   		var sellerName = $("#sellerName").val(); 
	    	var sellerBirth = $("#sellerBirth").val(); 
	    	var userAccountBank = $("#accountBank").val(); 
	    	var userAccountNo =  $("#accountNo").val(); 
	    	var accountHelper = $('#accountHelper')
	    	var buttonChecker = $('#accountCheck')
	    	console.log(sellerId);
	    	console.log(sellerName);
	    	console.log(sellerBirth);
	    	console.log(userAccountBank);
	    		
	        $.ajax({
	        	
	            type : "POST",
	            data : JSON.stringify({"sellerId" : sellerId, "sellerName" : sellerName, "sellerBirth" : sellerBirth
		    		,"userAccountBank" : userAccountBank ,"userAccountNo" : userAccountNo} ),
	            dataType : "json",
	            url : "/ajaxAccountCheck",
	            contentType: "application/json; charset=UTF-8",
	            success : function(data) {
	                if (data > 0) {
	                	//$('#checkMessage').html("<p style="COLOR: blue">유효하지 않는 계좌입니다.</p>");
	                    //계좌 불가의 경우 빨깡으로 , 아니면 파랑으로 처리하는 디자인
	                    
	                    $("#accountNo").css("background-color", "#FF4136");
	                    $("#accountNo").removeClass("has-success")
	                    accountHelper.text('계좌를 조회할 수 없습니다.');
	                    $("#accountNo").focus();
	                    
	                
	                } else {
	                	 //$('#checkMessage').html("<p style="COLOR: blue">사용가능한 계좌입니다</p>");
	                    //계좌 불가일경우  빨강으로, 아니면 파랑으로 처리하는 디자인
	                    $("#accountNo").css("background-color", "#B0F6AC");
	                    $("#accountNo").removeClass("has-error")
	                    accountHelper.text('사용 가능한 계좌입니다.');
	                    //계좌가 유효할 경우
	                    accountCheck = 1;
	               
	                }
	                if($("#buttonChecker") == 1){
	                    $("#accountCheck").hide();
	              } else {
	                    $("#accountCheck").show();
	              }
	            },
	            error : function(error) {
	                alert("error : " + error);
	            }
	        });
	    });
	});
	</script>
</th:block>
	<div layout:fragment="content">
		<div class="container">
			<div class="page-header">
				<h1>
					회원가입 <small>Sign up</small>
				</h1>
			</div>
			
			<div class="col-md-6 col-md-offset-3">
				<form name="fileForm" action="/sellerFileUpload" method="post" enctype="multipart/form-data">
					<div class="form-group">
						<label for="sellerId">판매자 아이디</label> 
						<input type="text" class="form-control" id="sellerId" name="sellerId" th:value="${sessionLogin.sessionId}">
					</div>
		
					<div class="form-group">
						<label for="sellerName">판매자 이름</label>
						 <input type="text" class="form-control" id="sellerName" name="sellerName">
					</div>
					<div class="form-group">
						<label for="sellerBirth">생년월일</label>
						 <input type="text" class="form-control" id="sellerBirth" name="sellerBirth">
					</div>
					<div class="form-group">
						<label for="accountNo">계좌 번호</label> 
						<select name="accountBank" id="accountBank">
							<option value="국민은행">국민은행</option>
							<option value="신한">신한은행</option>
							<option value="우리 ">우리은행</option>
							<option value="KEB하나은행">KEB하나은행</option>
							<option value="한국씨티은행">한국씨티은행</option>
							<option value="한국스탠다드차타드은행">한국스탠다드차타드은행</option>
							<option value="카카오뱅크">카카오뱅크</option>
							<option value="농협">농협</option>
							<option value="기업은행 ">기업은행</option>
						</select>
						 <input type="text" class="form-control" id="accountNo" name="accountNo">
						<span id="accountHelper"></span><br>
						<div>
						<input type="button" class="btn btn-success" id="accountCheck" value="계좌확인">		
						<div class="border border-secondary">
							<label for="license" class="font-weight-bold">사업자등록증</label>
							<div class="text-center" id="fileDiv">
								<p>
									<input multiple="multiple" type="file" name="multipartFile" /> 
									<a href="#this" name="delete" class="btn">삭제하기</a>
								</p>
							</div>
							<label for="bankCopy" class="font-weight-bold">대표자통장사본</label>
							<div class="text-center" id="fileDiv">
								<p>
									<input multiple="multiple" type="file" name="multipartFile" /> 
									<a href="#this" name="delete" class="btn">삭제하기</a>
								</p>
							</div>
							<label for="certification" class="font-weight-bold">개인인감증명서(또는 본인서명사실확인서)</label>
							<div class="text-center" id="fileDiv">
								<p>
									<input multiple="multiple" type="file" name="multipartFile" />
									<a href="#this" name="delete" class="btn">삭제하기</a>
								</p>
							</div>
							<label for="communiSales" class="font-weight-bold">통신판매업 신고증</label>
							<div class="text-center" id="fileDiv">
								<p>
									<input multiple="multiple" type="file" name="multipartFile" />
									 <a href="#this" name="delete" class="btn">삭제하기</a>
								</p>
							</div>
							<label for="productGrade" class="font-weight-bold">상품등급확인서</label>
							<div class="text-center" id="fileDiv">
								<p>
									<input multiple="multiple" type="file" name="multipartFile" />
									<a href="#this" name="delete" class="btn">삭제하기</a>
								</p>
							</div>
	
							<div class="form-group text-center">
								<button type="submit" class="btn btn-info">
									계좌 인증<i class="fa fa-check spaceLeft"></i>
								</button>
								<button type="submit" class="btn btn-warning">
									계좌 인증 취수<i class="fa fa-times spaceLeft"></i>
								</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</html>